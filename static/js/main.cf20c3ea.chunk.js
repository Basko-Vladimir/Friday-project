(this["webpackJsonpfriday-project"]=this["webpackJsonpfriday-project"]||[]).push([[0],{16:function(e,t,a){e.exports={header:"Header_header__d8TJ1",navMenu:"Header_navMenu__XmOBE",active:"Header_active__3NrMy",signOut:"Header_signOut__uE1AS"}},17:function(e,t,a){e.exports={container:"Paginator_container__-8AIP",arrow:"Paginator_arrow__afc1Q",button:"Paginator_button__54szc"}},18:function(e,t,a){e.exports={table:"Table_table__3fQUw",headers:"Table_headers__17WSi",rows:"Table_rows__1I5AT",row:"Table_row__1tWSm",buttonColumn:"Table_buttonColumn__3bNaJ"}},22:function(e,t,a){e.exports={background:"Message_background__1_Cvs",message:"Message_message__2OSW_",error:"Message_error__j9aN1"}},25:function(e,t,a){e.exports={form:"SignIn_form__o7Htx",checkbox:"SignIn_checkbox__3Ub6U",background:"SignIn_background__11NxE"}},26:function(e,t,a){e.exports={body:"Loading_body__5qWIK",loadingProgress:"Loading_loadingProgress__149ZI"}},31:function(e,t,a){e.exports={container:"SignUp_container__29LBU",inputs:"SignUp_inputs__1TLkz"}},32:function(e,t,a){e.exports={container:"Search_container__7ghzK",searchArea:"Search_searchArea__38Whk"}},44:function(e,t,a){e.exports={input:"NewInput_input__2Agb1"}},45:function(e,t,a){e.exports={button:"Button_button__2gVcE"}},46:function(e,t,a){e.exports={input:"Input_input__3ZTlA"}},47:function(e,t,a){e.exports={form:"SetNewPass_form__JPazo",background:"SetNewPass_background__1F51k"}},48:function(e,t,a){e.exports={form:"Forgot_form__2ccYz",background:"Forgot_background__3Hif5"}},49:function(e,t,a){e.exports={headers:"ColumnsHeaders_headers__3lseU"}},51:function(e,t,a){e.exports=a(81)},56:function(e,t,a){},57:function(e,t,a){},81:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(23),s=a.n(c),o=(a(56),a(57),a(16)),u=a.n(o),l=a(5),i=a(8),d=a(6),m=a(1),p=a(3),f=a.n(p),b=a(7),g=a(2),v=a(13),h=a.n(v),E=h.a.create({baseURL:"https://cards-nya-back.herokuapp.com/1.0"}),k=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return E.post("/auth/login",{email:e,password:t,rememberMe:a}).then((function(e){return e.data}))},O=function(e){return E.post("/auth/me",{token:e}).then((function(e){return e.data}))},j=function(e,t){localStorage.setItem(e,JSON.stringify(t))},_=function(e){var t=localStorage.getItem(e);if(t)return JSON.parse(t)},w="SignUpReducer/SIGN_UP_ERROR",S="SignUpReducer/IS_LOADING",C=h.a.create({baseURL:"https://cards-nya-back.herokuapp.com/1.0/"}),x={SignUpAPI:function(){var e=Object(b.a)(f.a.mark((function e(t,a){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.post("/auth/register",{email:t,password:a});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},P={isLoading:!1,message:"",signUpSuccess:!1},y=function(e){return{type:S,value:e}},N=function(e){return{type:w,errorMessage:e}},I="cards/signInReducer/SET_MESSAGE_TEXT",R="cards/signInReducer/SET_INITIALIZE",T={message:"",isInitialized:!1},U=function(e){return{type:I,messageText:e}},A="cards/signInReducer/SET_USER_DATA",L="cards/signInReducer/LOGIN_SUCCESS",M={isAuth:!1,userData:null},D=function(e){return{type:A,userData:e}},F=function(e){return{type:L,isAuth:e}},H=function(e){return function(){var t=Object(b.a)(f.a.mark((function t(a){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(F(!0)),t.next=4,O(e);case 4:n=t.sent,j("token",n.token),a(D(Object(g.a)({},n))),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a(F(!1));case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},B=a(25),G=a.n(B),Q=a(15),W=a(44),z=a.n(W),J=r.a.memo((function(e){var t=e.error,a=e.onChangeHandler,n=e.onChange,c=Object(Q.a)(e,["error","onChangeHandler","onChange"]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",Object.assign({className:z.a.input,onChange:function(e){a&&a(e.currentTarget.value),n&&n(e)}},c)),t&&r.a.createElement("span",null,t))})),q=a(45),K=a.n(q),Y=r.a.memo((function(e){var t=e.title,a=Object(Q.a)(e,["title"]);return r.a.createElement("div",null,r.a.createElement("button",Object.assign({className:K.a.button},a),t))})),Z=a(22),X=a.n(Z),V=r.a.memo((function(e){var t=e.messageText,a=e.isResponseError,n=e.actionCreator,c=a?"".concat(X.a.message," ").concat(X.a.error," "):X.a.message,s=Object(m.b)();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:X.a.background}," "),r.a.createElement("div",{className:c},r.a.createElement("h3",null,t),r.a.createElement(Y,{title:"Close",onClick:function(){s(n)}})))})),$=r.a.memo((function(e){var t=e.email,a=e.password,n=e.isRemember,c=e.messageText,s=e.changePass,o=e.changeEmail,u=e.changeIsRemember,i=e.sendFormData;return r.a.createElement("div",null,r.a.createElement("h1",null,"Sign In"),r.a.createElement("form",{onSubmit:i,className:G.a.form},r.a.createElement(J,{type:"text",placeholder:"Enter your e-mail",onChange:o,value:t}),r.a.createElement(J,{type:"password",placeholder:"Enter your password",onChange:s,value:a}),r.a.createElement(l.b,{to:ft,className:G.a.forgotLink},"Forgot password?"),r.a.createElement("label",null,r.a.createElement(J,{type:"checkbox",className:G.a.checkbox,onChange:u,checked:n}),"Remember Me"),r.a.createElement(Y,{title:"Sign in"}),r.a.createElement(l.b,{to:pt},"Registration"),c&&r.a.createElement(V,{messageText:c,isResponseError:!0,actionCreator:U("")})))})),ee=a(26),te=a.n(ee),ae=function(){var e=Object(n.useState)("."),t=Object(d.a)(e,2),a=t[0],c=t[1],s=Object(m.c)((function(e){return e.signUp.isLoading}));return r.a.createElement("div",{className:s?te.a.body:te.a.hide},r.a.createElement("span",{className:te.a.loadingProgress},s&&"Loading"+(setTimeout((function(){a.length<5?c(a+"."):c(".")}),1e3),a)))},ne=r.a.memo((function(){var e=Object(m.c)((function(e){return e.app.message})),t=Object(m.c)((function(e){return e.signIn.isAuth})),a=Object(m.c)((function(e){return e.signUp.isLoading})),c=_("token"),s=Object(n.useState)(!0),o=Object(d.a)(s,2),u=o[0],l=o[1],p=Object(n.useState)(""),v=Object(d.a)(p,2),h=v[0],E=v[1],O=Object(n.useState)(""),w=Object(d.a)(O,2),S=w[0],C=w[1],x=Object(n.useState)(!1),P=Object(d.a)(x,2),N=P[0],I=P[1],R=Object(m.b)();Object(n.useEffect)((function(){c&&u&&!t&&(R(H(c)),l(!1))}),[R,c,l,u,t]);var T=Object(n.useCallback)((function(e){E(e.currentTarget.value)}),[E]),A=Object(n.useCallback)((function(e){C(e.currentTarget.value)}),[C]),L=Object(n.useCallback)((function(e){I(e.currentTarget.checked)}),[I]),M=Object(n.useCallback)((function(e){e.preventDefault(),R(function(e,t,a){return function(){var n=Object(b.a)(f.a.mark((function n(r){var c;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r(y(!0)),n.next=4,k(e,t,a);case 4:c=n.sent,j("token",c.token),r(D(Object(g.a)({},c))),r(F(!0)),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),r(U(n.t0.response.data.error));case 13:return n.prev=13,r(y(!1)),n.finish(13);case 16:case"end":return n.stop()}}),n,null,[[0,10,13,16]])})));return function(e){return n.apply(this,arguments)}}()}(h,S,N)),E(""),C(""),I(!1)}),[R,h,S,N]);return t?r.a.createElement(i.a,{to:bt}):r.a.createElement(r.a.Fragment,null,r.a.createElement($,{email:h,password:S,isRemember:N,changeEmail:T,changePass:A,messageText:e,changeIsRemember:L,sendFormData:M}),a&&r.a.createElement(ae,null))})),re=a(46),ce=a.n(re),se=function(e){var t=e.error,a=e.value,n=e.changeInput,c=Object(Q.a)(e,["error","value","changeInput"]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",Object.assign({className:ce.a.input},c,{value:a,onChange:n})),t&&r.a.createElement("span",null,t))},oe=a(31),ue=a.n(oe),le=function(e){var t=e.login,a=e.firstPass,n=e.secondPass,c=e.setFirstPass,s=e.setLogin,o=e.setSecondPass,u=e.registerMe,l=e.similar,i=e.wrongPassword,d=e.responseMessage,m=e.isLoading;return r.a.createElement("div",{className:ue.a.container},r.a.createElement("h1",null,"Sign Up"),r.a.createElement("div",{className:ue.a.inputs},r.a.createElement(se,{placeholder:"Enter Your email",changeInput:function(e){s(e.currentTarget.value)},type:"text",value:t}),r.a.createElement(se,{placeholder:"Enter Your Password",changeInput:function(e){c(e.currentTarget.value)},type:"password",value:a}),r.a.createElement(se,{placeholder:"Confirm Your password",changeInput:function(e){o(e.currentTarget.value)},type:"password",value:n})," ",!l&&r.a.createElement("span",null,"password does not match!")),r.a.createElement(Y,{title:"Sign Up",onClick:l?u:i}),m&&r.a.createElement(ae,null),r.a.createElement("span",null,d))},ie=function(){var e=Object(m.b)(),t=Object(m.c)((function(e){return e.signUp})),a=t.signUpSuccess,c=t.message,s=Object(n.useState)(""),o=Object(d.a)(s,2),u=o[0],l=o[1],p=Object(n.useState)(!1),g=Object(d.a)(p,2),v=g[0],h=g[1],E=Object(n.useState)(""),k=Object(d.a)(E,2),O=k[0],j=k[1],_=Object(n.useState)(""),w=Object(d.a)(_,2),S=w[0],C=w[1];Object(n.useEffect)((function(){h(!(S!==O||!S))}),[S,O]);return r.a.createElement(r.a.Fragment,null,a?r.a.createElement(i.a,{to:mt}):r.a.createElement(le,{login:u,setLogin:l,firstPass:O,setFirstPass:j,secondPass:S,setSecondPass:C,similar:v,registerMe:function(){var t,a;e((t=u,a=O,function(){var e=Object(b.a)(f.a.mark((function e(n){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,n(y(!0)),e.next=5,x.SignUpAPI(t,a);case 5:(r=e.sent).error?n(N(r.error)):n({type:"SignUpReducer/SIGN_UP_SUCCESS",signUpSuccess:r.success}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),n(N(e.t0.response.data.error));case 12:n(y(!1));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()))},responseMessage:c,wrongPassword:function(){e(N("wrong credentials"))},isLoading:y}))},de=a(47),me=a.n(de),pe=r.a.memo((function(e){var t=e.password,a=e.passwordRepeat,n=e.sendNewPassword,c=e.changePassword,s=e.changePasswordRepeat,o=e.messageText,u=e.isResponseError;return r.a.createElement("div",null,r.a.createElement("h1",null,"Set New Password"),r.a.createElement("form",{className:me.a.form,onSubmit:n},r.a.createElement(J,{value:t,placeholder:"Enter new password",onChange:c,type:"password"}),r.a.createElement(J,{value:a,placeholder:"Repeat password",onChangeHandler:s,type:"password"}),r.a.createElement(l.b,{to:mt},"Sign In"),r.a.createElement(Y,{title:"Set password"})),o&&r.a.createElement(V,{messageText:o,isResponseError:u,actionCreator:U("")}))})),fe=h.a.create({baseURL:"https://cards-nya-back.herokuapp.com/1.0"}),be=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return fe.post("/auth/set-new-password",{password:e,resetPasswordToken:t}).then((function(e){return e.data}))},ge="cards/setNewPassReducer/setNewPassReducer",ve={newPassSuccess:!1},he=function(){var e=Object(n.useState)(""),t=Object(d.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(""),o=Object(d.a)(s,2),u=o[0],l=o[1],p=Object(m.c)((function(e){return e.app.message})),g=Object(m.c)((function(e){return e.setNewPass.newPassSuccess})),v=Object(m.b)(),h=Object(i.g)().resetToken,E=Object(n.useCallback)((function(e){c(e.currentTarget.value)}),[c]),k=Object(n.useCallback)((function(e){l(e)}),[l]),O=Object(n.useCallback)((function(e){e.preventDefault(),v(a===u?function(e,t){return function(){var a=Object(b.a)(f.a.mark((function a(n){return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,be(e,t);case 3:n({type:ge,isSuccess:!0}),n(U("Success! Password changed")),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),n(U(a.t0.response.data.error));case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()}(a,h):U("Passwords doesn't match")),c(""),l("")}),[v,a,u,h]);return g&&setTimeout((function(){}),500),r.a.createElement(pe,{password:a,passwordRepeat:u,sendNewPassword:O,changePassword:E,changePasswordRepeat:k,messageText:p,isResponseError:!g})},Ee=function(){var e=Object(m.c)((function(e){return e.signIn.userData}));return Object(m.c)((function(e){return e.signIn.isAuth}))?r.a.createElement("div",null,r.a.createElement("h1",null,"Profile "),r.a.createElement("div",null,r.a.createElement("b",null,"created:")," ",null===e||void 0===e?void 0:e.created),r.a.createElement("div",null,r.a.createElement("b",null,"email:")," ",null===e||void 0===e?void 0:e.email),r.a.createElement("div",null,r.a.createElement("b",null,"isAdmin:")," ",String(null===e||void 0===e?void 0:e.isAdmin)),r.a.createElement("div",null,r.a.createElement("b",null,"name:")," ",null===e||void 0===e?void 0:e.name),r.a.createElement("div",null,r.a.createElement("b",null,"publicCardPacksCount:")," ",null===e||void 0===e?void 0:e.publicCardPacksCount),r.a.createElement("div",null,r.a.createElement("b",null,"rememberMe:")," ",String(null===e||void 0===e?void 0:e.rememberMe)),r.a.createElement("div",null,r.a.createElement("b",null,"success:")," ",String(null===e||void 0===e?void 0:e.success)),r.a.createElement("div",null,r.a.createElement("b",null,"token:")," ",null===e||void 0===e?void 0:e.token),r.a.createElement("div",null,r.a.createElement("b",null,"tokenDeathTime:")," ",null===e||void 0===e?void 0:e.tokenDeathTime),r.a.createElement("div",null,r.a.createElement("b",null,"updated:")," ",null===e||void 0===e?void 0:e.updated),r.a.createElement("div",null,r.a.createElement("b",null,"verified:")," ",String(null===e||void 0===e?void 0:e.verified)),r.a.createElement("div",null,r.a.createElement("b",null,"__v:")," ",null===e||void 0===e?void 0:e.__v),r.a.createElement("div",null,r.a.createElement("b",null,"_id:")," ",null===e||void 0===e?void 0:e._id)):r.a.createElement(i.a,{to:mt})},ke=a(48),Oe=a.n(ke),je=r.a.memo((function(e){var t=e.email,a=e.messageText,n=e.isResponseError,c=e.changeEmail,s=e.sendEmail;return r.a.createElement("div",null,r.a.createElement("h1",null,"Forgot"),r.a.createElement("form",{className:Oe.a.form,onSubmit:s},r.a.createElement(J,{type:"text",placeholder:"Enter your e-mail",value:t,onChange:c}),r.a.createElement(l.b,{to:mt},"Sign In"),r.a.createElement(Y,{title:"Send email"})),a&&r.a.createElement(V,{messageText:a,isResponseError:n,actionCreator:U("")}))})),_e=h.a.create({baseURL:"https://cards-nya-back.herokuapp.com/1.0"}),we=function(e){return _e.post("auth/forgot",{email:e,html1:"<a href='http://localhost:3000/#/set-new-password/",html2:"'>reset-password-link</a>"}).then((function(e){return e.data}))},Se="cards/forgotReducer/SET_FORGOT_SUCCESS",Ce={forgotSuccess:!1},xe=function(){var e=Object(n.useState)(""),t=Object(d.a)(e,2),a=t[0],c=t[1],s=Object(m.c)((function(e){return e.app.message})),o=Object(m.c)((function(e){return e.forgot.forgotSuccess})),u=Object(m.b)(),l=Object(n.useCallback)((function(e){c(e.currentTarget.value)}),[c]),p=Object(n.useCallback)((function(e){e.preventDefault(),u(function(e){return function(){var t=Object(b.a)(f.a.mark((function t(a){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,we(e);case 3:a({type:Se,success:!0}),a(U("Success! Check your email")),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a(U(t.t0.response.data.error));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}(a)),c("")}),[u,a]);return o?r.a.createElement(i.a,{to:mt}):r.a.createElement(je,{email:a,changeEmail:l,isResponseError:!o,messageText:s,sendEmail:p})},Pe=a(18),ye=a.n(Pe),Ne=a(49),Ie=a.n(Ne),Re=r.a.memo((function(e){var t=Object(n.useState)(!1),a=Object(d.a)(t,2),c=a[0],s=a[1],o="",u=e.columnsHeaders,l=e.addItem,i=e.getItems,m=function(e){var t=e.currentTarget.textContent;if(o=c?"&uarr;":" &darr;",t){t=t.replace(/[^\w]/g,"");var a=+c+t.toLowerCase();i(a)}s(!c),e.currentTarget.innerHTML="".concat(t,"  ").concat(o)};return r.a.createElement("div",{className:Ie.a.headers},u.map((function(e,t){return t===u.length-1?r.a.createElement(Y,{key:e,title:e,onClick:l}):r.a.createElement("span",{key:e},r.a.createElement("b",{onClick:m},e))})))})),Te=r.a.memo((function(e){var t=e.columnsHeaders,a=e.rows,n=e.deleteItem,c=e.addItem,s=e.updateItem,o=e.tableModel,u=e.getItems;return r.a.createElement("div",{className:ye.a.table},r.a.createElement(Re,{columnsHeaders:t,addItem:c,getItems:u}),"packs"===o?r.a.createElement("div",{className:ye.a.rows},!a.length&&r.a.createElement("span",null,"Packs didn't create, yet"),a.map((function(e){return r.a.createElement("div",{key:e._id,className:ye.a.row},r.a.createElement("span",null,r.a.createElement(l.b,{to:"".concat(gt,"/").concat(e._id)},e.name)),r.a.createElement("span",null,e.grade),r.a.createElement("span",{className:ye.a.buttonColumn},r.a.createElement(Y,{title:"Update",onClick:function(){return s(e._id)}}),r.a.createElement(Y,{title:"Delete",onClick:function(){return n(e._id)}})))}))):r.a.createElement("div",{className:ye.a.rows},!a.length&&r.a.createElement("span",null,"Cards didn't create, yet"),a.map((function(e){return r.a.createElement("div",{key:e._id,className:ye.a.row},r.a.createElement("span",null,e.question),r.a.createElement("span",null,e.answer),r.a.createElement("span",null,e.grade),r.a.createElement("span",{className:ye.a.buttonColumn},r.a.createElement(Y,{title:"Update",onClick:function(){return s(e._id)}}),r.a.createElement(Y,{title:"Delete",onClick:function(){return n(e._id)}})))}))))})),Ue=h.a.create({baseURL:"https://cards-nya-back.herokuapp.com/1.0"}),Ae=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return Ue.get("/cards/pack?token=".concat(e,"&pageCount=").concat(a,"&page=").concat(n,"&").concat(t)).then((function(e){return e.data}))},Le=function(e){return Ue.post("/cards/pack",{cardsPack:{name:"BaskoPack",grade:0},token:e}).then((function(e){return e.data}))},Me=function(e,t){return Ue.put("/cards/pack",{cardsPack:{_id:e,name:"changedBaskoPack"},token:t}).then((function(e){return e.data}))},De=function(e,t){return Ue.delete("/cards/pack?token=".concat(t,"&id=").concat(e)).then((function(e){return e.data}))},Fe="cards/packsReducer/SET_PACKS",He="cards/packsReducer/UPDATE_PACK",Be="cards/packsReducer/SET_NEW_PAGE",Ge={packs:[],pageCount:4,page:1},Qe=function(e){return{type:Fe,packs:e}},We=function(e,t){return{type:He,idPack:e,newPack:t}},ze=function(e,t){return function(){var a=Object(b.a)(f.a.mark((function a(n){var r;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n(y(!0)),a.next=4,Ae(e,t);case 4:r=a.sent,j("token",r.token),n(Qe(r.cardPacks)),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),n(U(a.t0.response.data.error));case 12:return a.prev=12,n(y(!1)),a.finish(12);case 15:case"end":return a.stop()}}),a,null,[[0,9,12,15]])})));return function(e){return a.apply(this,arguments)}}()},Je=a(32),qe=a.n(Je),Ke=r.a.memo((function(e){e.onChange;var t=e.setQuery,a=e.searchQuery,n=e.toSearch,c=e.toReset,s=Object(Q.a)(e,["onChange","setQuery","searchQuery","toSearch","toReset"]);return r.a.createElement("div",{className:qe.a.container},r.a.createElement("div",{className:qe.a.searchArea},r.a.createElement(se,Object.assign({changeInput:t},s,{type:"text",placeholder:"Card name",value:a}))),r.a.createElement(Y,{title:"Search",onClick:n,style:{marginRight:"20px"}}),r.a.createElement(Y,{title:"Reset",onClick:c}))})),Ye=function(){var e=Object(m.b)(),t=Object(m.c)((function(e){return e.packs.packs})),a=Object(n.useState)(""),c=Object(d.a)(a,2),s=c[0],o=c[1];return r.a.createElement(Ke,{setQuery:function(e){o(e.currentTarget.value)},searchQuery:s,toSearch:function(){var a=t.filter((function(e){return e.name.match(new RegExp(s,"g"))}));e(Qe(a))},toReset:function(){var t=_("token");e(ze(t))}})},Ze=a(17),Xe=a.n(Ze),Ve=r.a.memo((function(e){e.title,e.page;var t=e.setPage;Object(Q.a)(e,["title","page","setPage"]);return r.a.createElement("div",{className:Xe.a.container},r.a.createElement("h3",null,"Pages"),r.a.createElement(Y,{title:"<",className:Xe.a.arrow}),r.a.createElement(Y,{title:"1",className:Xe.a.button}),r.a.createElement(Y,{title:"2",className:Xe.a.button,onClick:t}),r.a.createElement(Y,{title:"3",className:Xe.a.button}),r.a.createElement(Y,{title:"4",className:Xe.a.button}),r.a.createElement("span",null,"..."),r.a.createElement(Y,{title:"10",className:Xe.a.button}),r.a.createElement(Y,{title:">",className:Xe.a.arrow}))})),$e=function(){var e=Object(m.b)(),t=Object(m.c)((function(e){return e.packs.page}));return r.a.createElement(Ve,{title:"",page:t,setPage:function(){e(function(e){return{type:Be,newPage:e}}(2));var t=_("token");e(function(e,t){return function(){var a=Object(b.a)(f.a.mark((function a(n){var r;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=1,n(y(!0)),a.next=5,Ae(e,"",4,t);case 5:r=a.sent,j("token",r.token),n(Qe(r.cardPacks)),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(1),n(U(a.t0.response.data.error));case 13:return a.prev=13,n(y(!1)),a.finish(13);case 16:case"end":return a.stop()}}),a,null,[[1,10,13,16]])})));return function(e){return a.apply(this,arguments)}}()}(t,2))}})},et=function(){var e=Object(n.useState)(!0),t=Object(d.a)(e,2),a=t[0],c=t[1],s=_("token"),o=Object(m.c)((function(e){return e.signIn.isAuth})),u=Object(m.c)((function(e){return e.signUp.isLoading})),l=Object(m.c)((function(e){return e.packs.packs})),p=Object(m.c)((function(e){return e.app.message})),g=Object(m.b)();Object(n.useEffect)((function(){a&&s&&o&&(c(!1),g(ze(s)))}),[g,s,c,a,o]);var v=Object(n.useCallback)((function(e){s&&g(ze(s,"sortPacks=".concat(e)))}),[g,s]),h=Object(n.useCallback)((function(e){g(function(e,t){return function(){var a=Object(b.a)(f.a.mark((function a(n){var r;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n(y(!0)),a.next=4,Me(e,t);case 4:r=a.sent,j("token",r.token),n(We(e,r.updatedCardsPack)),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(0),j("token",a.t0.response.data.token),n(U(a.t0.response.data.error));case 13:return a.prev=13,n(y(!1)),a.finish(13);case 16:case"end":return a.stop()}}),a,null,[[0,9,13,16]])})));return function(e){return a.apply(this,arguments)}}()}(e,s))}),[g,s]),E=Object(n.useCallback)((function(){g(function(e){return function(){var t=Object(b.a)(f.a.mark((function t(a){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(y(!0)),t.next=4,Le(e);case 4:return n=t.sent,t.next=7,a(ze(n.token));case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a(U(t.t0.response.data.error));case 12:return t.prev=12,a(y(!1)),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[0,9,12,15]])})));return function(e){return t.apply(this,arguments)}}()}(s))}),[g,s]),k=Object(n.useCallback)((function(e){g(function(e,t){return function(){var a=Object(b.a)(f.a.mark((function a(n){var r;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n(y(!0)),a.next=4,De(e,t);case 4:return r=a.sent,j("token",r.token),a.next=8,n(ze(r.token));case 8:a.next=14;break;case 10:a.prev=10,a.t0=a.catch(0),j("token",a.t0.response.data.token),n(U(a.t0.response.data.error));case 14:return a.prev=14,n(y(!1)),a.finish(14);case 17:case"end":return a.stop()}}),a,null,[[0,10,14,17]])})));return function(e){return a.apply(this,arguments)}}()}(e,s))}),[g,s]);return o?r.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}},r.a.createElement(Ye,null),r.a.createElement(Te,{columnsHeaders:["Name","Grade","Add Pack"],rows:l,getItems:v,deleteItem:k,addItem:E,updateItem:h,tableModel:"packs"}),u&&r.a.createElement(ae,null),p&&r.a.createElement(V,{messageText:p,isResponseError:!0,actionCreator:U("")}),r.a.createElement($e,null)):r.a.createElement(i.a,{to:mt})},tt=h.a.create({baseURL:"https://cards-nya-back.herokuapp.com/1.0"}),at=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return tt.get("/cards/card?token=".concat(e,"&cardsPack_id=").concat(t,"&").concat(a)).then((function(e){return e.data}))},nt=function(e,t){return tt.post("/cards/card",{card:{cardsPack_id:t,question:"No question Basko",answer:"No answer Basko",grade:0},token:e}).then((function(e){return e.data}))},rt=function(e,t){return tt.put("/cards/card",{card:{_id:e,question:"Changed question Basko",answer:"Changed answer Basko",grade:0},token:t}).then((function(e){return e.data}))},ct=function(e,t){return tt.delete("/cards/card?token=".concat(t,"&id=").concat(e)).then((function(e){return e.data}))},st="cards/packsReducer/SET_CARDS",ot="cards/packsReducer/UPDATE_CARD",ut={cards:[]},lt=function(e,t){return{type:ot,cardId:e,newCard:t}},it=function(e,t,a){return function(){var n=Object(b.a)(f.a.mark((function n(r){var c;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r(y(!0)),n.next=4,at(e,t,a);case 4:c=n.sent,j("token",c.token),r((s=c.cards,{type:st,cards:s})),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),r(U(n.t0.response.data.error));case 12:return n.prev=12,r(y(!1)),n.finish(12);case 15:case"end":return n.stop()}var s}),n,null,[[0,9,12,15]])})));return function(e){return n.apply(this,arguments)}}()},dt=function(){var e=Object(n.useState)(!0),t=Object(d.a)(e,2),a=t[0],c=t[1],s=_("token"),o=Object(m.c)((function(e){return e.signIn.isAuth})),u=Object(m.c)((function(e){return e.signUp.isLoading})),l=Object(m.c)((function(e){return e.cards.cards})),p=Object(m.c)((function(e){return e.app.message})),g=Object(i.g)().packId,v=Object(m.b)();Object(n.useEffect)((function(){a&&s&&o&&(c(!1),v(it(s,g)))}),[v,s,c,a,o,g]);var h=Object(n.useCallback)((function(e){s&&v(it(s,g,"sortCards=".concat(e)))}),[v,s,g]),E=Object(n.useCallback)((function(e){s&&v(function(e,t){return function(){var a=Object(b.a)(f.a.mark((function a(n){var r;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n(y(!0)),a.next=4,rt(e,t);case 4:r=a.sent,j("token",r.token),n(lt(r.updatedCard._id,r.updatedCard)),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),n(U(a.t0.response.data.error));case 12:return a.prev=12,n(y(!1)),a.finish(12);case 15:case"end":return a.stop()}}),a,null,[[0,9,12,15]])})));return function(e){return a.apply(this,arguments)}}()}(e,s))}),[v,s]),k=Object(n.useCallback)((function(){s&&v(function(e,t){return function(){var a=Object(b.a)(f.a.mark((function a(n){var r;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n(y(!0)),a.next=4,nt(e,t);case 4:return r=a.sent,a.next=7,n(it(r.token,r.newCard.cardsPack_id));case 7:a.next=13;break;case 9:a.prev=9,a.t0=a.catch(0),j("token",a.t0.response.data.token),n(U(a.t0.response.data.error));case 13:return a.prev=13,n(y(!1)),a.finish(13);case 16:case"end":return a.stop()}}),a,null,[[0,9,13,16]])})));return function(e){return a.apply(this,arguments)}}()}(s,g))}),[v,s,g]),O=Object(n.useCallback)((function(e){s&&v(function(e,t){return function(){var a=Object(b.a)(f.a.mark((function a(n){var r;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n(y(!0)),a.next=4,ct(e,t);case 4:return r=a.sent,j("token",r.token),a.next=8,n(it(r.token,r.deletedCard.cardsPack_id));case 8:a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),n(U(a.t0.response.data.error));case 13:return a.prev=13,n(y(!1)),a.finish(13);case 16:case"end":return a.stop()}}),a,null,[[0,10,13,16]])})));return function(e){return a.apply(this,arguments)}}()}(e,s))}),[v,s]);return o?r.a.createElement(r.a.Fragment,null,r.a.createElement(Te,{columnsHeaders:["Question","Answer","Grade","Add Pack"],rows:l,getItems:h,deleteItem:O,addItem:k,updateItem:E,tableModel:"cards"}),u&&r.a.createElement(ae,null),p&&r.a.createElement(V,{messageText:p,isResponseError:!0,actionCreator:U("")})):r.a.createElement(i.a,{to:mt})},mt="/sign-in",pt="/sign-up",ft="/forgot",bt="/profile",gt="/cards",vt=function(){return r.a.createElement(i.d,null,r.a.createElement(i.b,{path:mt,render:function(){return r.a.createElement(ne,null)}}),r.a.createElement(i.b,{path:pt,render:function(){return r.a.createElement(ie,null)}}),r.a.createElement(i.b,{path:ft,render:function(){return r.a.createElement(xe,null)}}),r.a.createElement(i.b,{path:"".concat("/set-new-password","/:resetToken?"),render:function(){return r.a.createElement(he,null)}}),r.a.createElement(i.b,{path:bt,render:function(){return r.a.createElement(Ee,null)}}),r.a.createElement(i.b,{path:"/packs",render:function(){return r.a.createElement(et,null)}}),r.a.createElement(i.b,{path:"".concat(gt,"/:packId?"),render:function(){return r.a.createElement(dt,null)}}),r.a.createElement(i.a,{exact:!0,path:"/",to:mt}),r.a.createElement(i.b,{path:"*",render:function(){return r.a.createElement("h2",null," 404 ERROR PAGE NOT FOUND")}}))},ht=function(){var e=Object(m.b)(),t=Object(m.c)((function(e){return e.signIn.isAuth}));return r.a.createElement("header",{className:u.a.header},r.a.createElement("nav",{className:u.a.navMenu},r.a.createElement(l.b,{to:mt,activeClassName:u.a.active},"Sign In"),r.a.createElement(l.b,{to:pt,activeClassName:u.a.active},"Sign Up"),r.a.createElement(l.b,{to:ft,activeClassName:u.a.active},"Forgot"),r.a.createElement(l.b,{to:"/set-new-password",activeClassName:u.a.active},"Set New Password"),r.a.createElement(l.b,{to:bt,activeClassName:u.a.active},"Profile"),r.a.createElement(l.b,{to:"/packs",activeClassName:u.a.active},"Packs")),t&&r.a.createElement("div",{className:u.a.signOut},r.a.createElement(Y,{title:"Sign Out",onClick:function(){j("token",null),e(D(null)),e(F(!1))}})))};var Et=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(ht,null),r.a.createElement(vt,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var kt=a(20),Ot=a(50),jt=Object(kt.c)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return Object(g.a)(Object(g.a)({},e),{},{message:t.messageText});case R:return Object(g.a)(Object(g.a)({},e),{},{isInitialized:!0});default:return e}},signUp:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SignUpReducer/SIGN_UP_SUCCESS":return Object(g.a)(Object(g.a)({},e),{},{message:"done!",signUpSuccess:t.signUpSuccess});case w:return Object(g.a)(Object(g.a)({},e),{},{message:t.errorMessage});case S:return Object(g.a)(Object(g.a)({},e),{},{isLoading:t.value});default:return e}},signIn:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return Object(g.a)(Object(g.a)({},e),{},{userData:t.userData});case L:return Object(g.a)(Object(g.a)({},e),{},{isAuth:t.isAuth});default:return e}},forgot:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Se:return Object(g.a)(Object(g.a)({},e),{},{forgotSuccess:t.success});default:return e}},setNewPass:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ge:return Object(g.a)(Object(g.a)({},e),{},{newPassSuccess:t.isSuccess});default:return e}},packs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fe:return Object(g.a)(Object(g.a)({},e),{},{packs:t.packs});case He:return Object(g.a)(Object(g.a)({},e),{},{packs:e.packs.map((function(e){return e._id===t.idPack?Object(g.a)(Object(g.a)({},e),t.newPack):e}))});case Be:return Object(g.a)(Object(g.a)({},e),{},{page:t.newPage});default:return e}},cards:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case st:return Object(g.a)(Object(g.a)({},e),{},{cards:t.cards});case ot:return Object(g.a)(Object(g.a)({},e),{},{cards:e.cards.map((function(e){return e._id===t.cardId?Object(g.a)(Object(g.a)({},e),t.newCard):e}))});default:return e}}}),_t=Object(kt.d)(jt,Object(kt.a)(Ot.a));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(l.a,null,r.a.createElement(m.a,{store:_t},r.a.createElement(Et,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[51,1,2]]]);
//# sourceMappingURL=main.cf20c3ea.chunk.js.map